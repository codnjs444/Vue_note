<!-- 
üí° BaseLayout.vue 
====================================================================================
üìå Ïª¥Ìè¨ÎÑåÌä∏ ÏÑ§Î™Ö
- Í∏∞Î≥∏ Î†àÏù¥ÏïÑÏõÉ Ïª¥Ìè¨ÎÑåÌä∏Î°ú, ÏÉÅÎã® Ìó§Îçî(BaseHeader)Î•º Ìè¨Ìï®ÌïòÍ≥† ÏûàÏäµÎãàÎã§.
- Ïù¥ Î†àÏù¥ÏïÑÏõÉ ÎÇ¥ÏóêÏÑú `menuTree`Î•º Pinia storeÎ°úÎ∂ÄÌÑ∞ Î∂àÎü¨ÏôÄ ÏÇ¨Ïö©ÌïòÎäî Íµ¨Ï°∞ÏûÖÎãàÎã§.
====================================================================================
-->

<template>
  <v-app>
    <!-- üåê Ìó§Îçî Ïª¥Ìè¨ÎÑåÌä∏ Ï∂îÍ∞Ä -->
    <!-- Î©îÎâ¥ Ìä∏Î¶¨Í∞Ä Î°úÎìúÎêú Í≤ΩÏö∞ÏóêÎßå BaseHeader Î†åÎçîÎßÅ -->
    <BaseHeader @route="onMenuClick" :menuTree="menuTree" />
  </v-app>
</template>

<script setup>
/* üõ†Ô∏è BaseViewÎ°úÎ∂ÄÌÑ∞ Composition API Î©îÏÑúÎìú Í∞ÄÏ†∏Ïò§Í∏∞ */
import BaseView from '@/components/base/BaseView'
import BaseHeader from './header/BaseHeader.vue'

const { ref, computed, onMounted, watchEffect } = BaseView()

/* üìÇ ÎùºÏö∞Ìä∏ Í¥ÄÎ†® Store Í∞ÄÏ†∏Ïò§Í∏∞ */
import { useRouteStore } from '@/stores/useRouterStore'
const routeStore = useRouteStore()

/* üå≥ Î©îÎâ¥ Ìä∏Î¶¨Î•º computedÎ°ú Í∞ÄÏ†∏ÏôÄ menuTreeÎ°ú Ï†ïÏùò */
const menuTree = computed(() => routeStore.menuTree)

/* üñ•Ô∏è Ïª¥Ìè¨ÎÑåÌä∏ ÎßàÏö¥Ìä∏ Ïãú Î©îÎâ¥ Ìä∏Î¶¨ ÏÑ§Ï†ï Ìï®Ïàò Ìò∏Ï∂ú Î∞è Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÍ∑∏ Ï∂úÎ†• */

/* üëâ  Î©îÎâ¥ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ (Ìó§Îçî) */
const onMenuClick = (item) => {
  console.log('onMenuClick', item)
}

onMounted(() => {
  routeStore.handleMenuSort() // menuTree Îç∞Ïù¥ÌÑ∞Î•º ÏÑ§Ï†ï
  console.log('BaseLayout[menuTree]', menuTree.value)
})
</script>
